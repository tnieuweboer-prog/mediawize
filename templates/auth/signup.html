{% extends "public_base.html" %}
{% block content %}

<div class="card" style="max-width:520px; margin:0 auto;">
  <h1 style="margin:0 0 10px 0;">Account maken</h1>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div style="display:grid; gap:8px; margin:12px 0;">
        {% for cat, msg in messages %}
          <div class="section" style="border-left:6px solid #22c55e;">
            <strong>{{ msg }}</strong>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <form method="post" action="{{ url_for('auth.signup_post') }}" style="display:grid; gap:10px; margin-top:12px;">
    <label>
      E-mail
      <input name="email" type="email" required style="width:100%; padding:10px; margin-top:6px;">
    </label>

    <label>
      Wachtwoord
      <input name="password" type="password" required minlength="6" style="width:100%; padding:10px; margin-top:6px;">
    </label>

    <label>
      Rol
      <select name="role" style="width:100%; padding:10px; margin-top:6px;">
        <option value="leerling" selected>Leerling</option>
        <option value="docent">Docent</option>
      </select>
    </label>

    <label>School</label>
      <select name="school_id" required>
        <option value="" selected disabled>Kies een schoolâ€¦</option>
        {% for s in schools %}
          <option value="{{ s.id }}">{{ s.name }}</option>
        {% endfor %}
      </select>

    <button type="submit" style="margin-top:8px; background:#22c55e; color:white; border:0; padding:12px 16px; border-radius:10px; font-weight:800;">
      Account maken
    </button>
  </form>

  <p style="margin-top:14px;">
    Heb je al een account?
    <a href="{{ url_for('auth.login') }}">Inloggen</a>
  </p>
</div>

{% endblock %}

